---
title: 敏捷软件开发原则
updated: 2018-05-03
date: 2018-04-24 18:14:27
ISBN: 9787115294685
出版社: 人民邮电出版社
出版时间: 2012-11-01
版次: 2

description: <!--more-->

photos:

- /2018/04/24/minjiekaifa/minjiekaifa.png

tags: 

 - 读书
 - 开发
 - 原则
---

### 测试驱动开发

简单的3条测试规则：

1. 除非已经编写了一个不能通过的单元测试，否则不编写任何产品代码；
2. 只要编写能够正好导致测试不通过或者编译失败的单元测试就够了，无需更多；
3. 只要编写能够正好使失败的单元测试通过的产品代码就够了，无需更多。

#### 测试

**单元测试**是用来验证系统中单个机制的白盒测试（white-box test）。

单元测试可以作为一种非常有价值的文档。如果想知道如何调用一个函数或者创建一个对象，会有一个测试展示给你看。测试就像一套范例，它帮助其他程序员了解如何使用代码。这份文档是可编译的、可运行的、它保持最新。它不会撒谎。

**验收测试**是用来验证系统满足客户需求的黑盒测试（black-box test）。

验收测试是关于一项特性的最终文档。一旦客户编写完成了验证一项特性的验收测试，程序员可以阅读那些验收测试来真正地理解这项特性。所以，正如单元测试作为可编译、可执行的有关系统内部结构的文档那样，验收测试是有关系统特性的可以编译、可执行的文档。简而言之，验收测试是真正的需求文档。

### SRP：单一职责原则

假设有两个不同的应用程序使用Rectangle类。

一个应用程序是有关计算几何学方面的，利用Rectangle类计算几何形状，但不会再屏幕上绘制矩形。

另外一个应用程序实质上是有关图形绘制方面的，它可能也会进行一些计算几何方面的工作，但是它肯定会在屏幕上绘制矩形。

![](498627-20160828231647539-1014399922.png)

此时，Rectangle类具有两个职责。第一个职责提供了一个矩形几何形状的数学模型；第二个职责是把矩形在一个图形用户界面上绘制出来。

对于SRP的违反导致了一些严重的问题。首先，我们必须在计算几何应用程序中包含进GUI代码。在.Net中，就必须要把GUI组建和计算几何应用一起构建、部署。

其次，如果GraphicalApplication的改变由于一些原因导致了Rectangle的改变，那么这个改变会迫使我们重新构建、测试以及部署ComputationalGeometryApplication。如果忘记这样做，ComputationalGeometryApplication可能会以不可预测的方式失败。

![](498627-20160828231739089-846443922.png)

一个较好的设计是把这两个职责分离到两个完全不同的类中。这个设计把Rectangle类中进行计算的部分移动到了GeometricRectangle类中。现在矩形绘制方式的改变不会对ComputationalGeometryApplication类造成影响。