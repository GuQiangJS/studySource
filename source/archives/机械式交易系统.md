---
title: 机械式交易系统：原理、构建与实战
date: 2020-08-18 09:24:26
updated: 2020-08-18
tags:
 - 交易系统
categories:
 - 交易系统
出版社: 机械工业出版社
ISBN: 9787111555698
出版时间: 2017年01月
description: <!—more—->
mathjax: true
typora-root-url: 机械式交易系统：原理、构建与实战
---

## 机械式交易系统

### 简述商品交易中的难题

* 你从未真正买进或卖出任何商品，只是在押注价格的变动。（P2\~P6)
* 交易成本：手续费、滑点和价差。(P10)

  尽管从单笔交易来看这些费用似乎微不足道，然而长期下来，他们会迅速累积，对盈亏结果产生重大影响。
  
* 预测市场（P21\~P22)

  顺应趋势，而不是预测趋势。预测趋势的可靠性比碰运气好不了多少
  
* 成功的商品交易的3项基本原则（P22)
  - **顺应趋势**
  - **截断亏损**
  - **让利润奔跑**
  
### 从事商品交易失败的原因

* 缺乏了解
* 资金不足
* 不切实际的预期
* 缺乏耐心
* 缺乏纪律
* 厌恶高风险

### 机械式交易系统的创建

* 曲线匹配系统

  根据历史价格来寻求当时有效的交易规则，并据此对规则进行调试，这种交易系统就属于曲线匹配式系统。**交易系统的曲线匹配特性越强，越不可能在未来发生作用**。
  
* 非曲线匹配系统

  如果并未参考任何特定的历史价格数据，而是基于试产如何运作的原理取建立系统的规则，这个系统就不是曲线匹配系统。假设一个非曲线匹配交易系统在对足量的历史价格进行测试时能发挥作用，则它在未来发挥作用的概率会比曲线匹配交易系统高出许多
  
  > 2%转向系统示例：
  >
  > - 判断最近5天的趋势方向是上升还是下降。如果今天的收盘价高于5天前的收盘价，则趋势向上。如果收盘价低于5天前的收盘价，则趋势向下。
  > - 如果趋势向下，则第一笔交易将是买进。当价格比最近5个交易日所出现的最低价高2%时买进，持有至价格比最近5个交易日的最高价位低2%的时候卖出。
  > - 卖出后，持有空头头寸知道价格比最近5个交易日的最低价高2%的时候回补空头头寸并且再次买入。
  > - 按照以上规则周而复始的教一下去。
  > - 如果开始交易时最近5个交易日的趋势已经上涨过，那么第一笔交易应该是做空（只在决定第一笔交易时才需要使用5日趋势指标）。
  > - 如果规则显示交易方向改变-价格比过去5个交易日的最高点低2%，并且又比过去5天最低价高2%，那么就继续持有该头寸，待下一个交易日再根据规则重新判断。
  
* 系统优化(P58)

> 假如你发现在过去5年中，白银市场的最佳加速系数是0.025，黄金市场的最佳系数是0.108，美国长期公债为0.022，则你进行这些市场交易时，是否会使用上述的系数来取代原本默认的0.02。如果这样做，你所操作的就是一套经过优化的系统。虽然这套系统属于曲线匹配，但是与另一套针对不同市场各个月份合约使用特定系数的系统相比较，程度仍然较为轻微。
>
> 面对数学式交易系统的复杂公式时，总会发现许多可变参数。唯一能够提升交易系统绩效的方法，就是利用历史价格以不同的参数赋值对系统进行测试。因此，**适当地优化系统是有必要的**。但是如果过度优化，交易系统将是一套高度曲线匹配的系统，这将使该系统未来绩效的可信度降低。

如何分辨从历史价格测试中盈利和在未来实际交易中盈利的系统，以及如何使用历史价格测试等问题将在后两章中说明。

### 商品交易方法的测试

两种极端的交易想法。它们对于资金都同样危险。

* 想尽快赚钱而迫不及待地开展交易，而很少用最新历史数据来测试其新技巧以验证其有效性。

  > 因为他们对该交易技巧深信不疑。可能是来自于权威，也可能是在某些走势图中的绩效令人叹为观止。

* 另一类人认为，过去有杰出业绩的技巧在未来也想必能够带来利润。

  > 某些技巧的过去绩效越佳，则用于实际交易时，它博取丰厚利润的机会也越大。

[后此谬误]([https://zh.wikipedia.org/wiki/%E5%BE%8C%E6%AD%A4%E8%AC%AC%E8%AA%A4](https://zh.wikipedia.org/wiki/後此謬誤))是逻辑学研究中经常遇到的认识错误。（after this, therefore because of this)（后发者因之而发）。这种谬误认为，B发生在A之后，则A就是B的原因。

* 数据的时间周期。不同的交易类型使用不同周期的数据。例如：日内交易使用小时数据，长线系统使用周线数据等

* 测试时间段

  > 乍看之下，似乎是测试的时间段越长越好，但市场性质若随着时间而改变，则长期的测试可能导致负面的效果。**仅能通过未来的交易赚钱**。某套系统在1980~1983年行情中曾经展现杰出的绩效，但在1988~1989年的行情中，如果价格走势的性质已经发生了重大变化，则该系统在此期间的表现可能极差。（P66)
  >
  > 最好是选择足够长的时间段，使它同事涵盖牛市和熊市，而且要包含价格波动性高及低的情况。另一方面，也要考虑测试上的方便。选择相对短的时间段，而花费较多的时间致力于测试，这或许会胜过选择20年或30年的数据时间段。

* 测试时系统所产生的交易笔数。从统计学而言，所产生的交易笔数越少，则测试越不足以信赖。**不论测试的时间长短，测试所产生的交易笔数越多，则测试结果在统计上越可靠**。统计的可信度十分重要，因为这关系着你的历史测试结果在未来重复出现的概率。这正是**测试的全部目的所在**。

书中认为最近5年是一个不错的测试时间段，并且认为如果无法产生30笔交易则测试结果的可信度不高。

书中P67页表示，为了避免测试发生扭曲结果（特殊时间段的特殊价格变动造成对测试结果特别有利或特别不利的情况，并且这种价格变动在未来发生的概率甚微的情况下）需要剔除这部分测试数据。因为它们对于测试结果没有太大用处。但是我认为这不符合A股市场，因为A股市场是牛短熊长的市场，而美股市场最近几十年都是牛长熊短的市场（虽然书中主要写的是期货市场）。对于A股这个不定期的暴涨暴跌，其余时间温吞水的市场来说，如何能够抓住暴涨行情，并且不站在山顶上是非常重要的（当然也不能过拟合-曲线匹配）。

* 分段优化和测试

最理想的情况是：使用较为陈旧的数据建立一套良好的系统，然后用最近的数据进行测试后证明该系统有效。

> 如果系统能够产生统计上值得信赖的交易笔数，则该系统的测试绩效在未来便有相当的概率会重复出现。

* 在不同的市场测试 TODO 12章

* 交易成本。模拟测试时，每笔交易都必须扣减某种合理的成本，否则测试便毫无意义。

* 测试日线数据时的特殊问题。日线数据中没有价格线。

* 评估测试结果（P73~P79)

  * 已平仓交易总笔数

  * 盈利（或亏损）交易总笔数

    > 持平的交易应该视为亏损，只有创造了利润的交易才能够被视为盈利的交易。

  * 盈利交易占总总交易比例

    > 拥有相对较少的亏损交易有助于满足人们的自尊和虚荣。然而，就专业交易者而言，其盈利交易百分比经常低于40%。较为重要考虑的是单笔交易平均盈利统平均亏损金额之比。

  * 已平仓交易累计盈亏额

    > 滑点和佣金费用必须考虑在内。
    >
    > 可能会产生误导。例如，某个系统产生了大量的测试笔数，它虽然可以呈现巨额的总盈利，但它仍可能不是一套很有效率的系统。如果已平仓交易的平均盈利很小，则其承担错误的空间便十分有限。

  * 最大连续亏损交易笔数

    > 此数据与最大回撤可以让交易者了解必须准备承受的痛苦程度。

  * 最大回撤

  * 盈利交易平均盈利额

  * 亏损交易平均亏损额

  * 平均盈利/平均亏损之比

    > 赢利交易平均盈利除以亏损交易平均亏损。若比率高于2:1，则称得上是不错的系统，但仍然需要考虑赢利交易百分比

  * 盈利系数

    -  $\frac{盈利交易的净利润总额}{亏损交易的净亏损总额} $
    -  $R=\frac{整体净利润}{亏损交易的净亏损总额}$ 每亏损1元能够赚进的利润。

  * 最大单笔盈利
  
    > 这项百分比越高，则系统容许出错的余地越小，因为业绩倚重于单笔交易，而这笔交易未来可能不会得到重视。
  
  * 最大单笔亏损
  
    > 改善系统绩效的最佳之处便是从最大亏损交易着手。如果能够消除或降低这些交易的亏损，则系统绩效将可以明显改善。
  
  * 盈利（亏损）交易平均持仓时间
  
  * 滑点及佣金费用
  
  * 保证金资金回报率
  
  * 已平仓交易绩效比率
  
  * 涵盖未平仓净值的绩效比率
  
  **指标的选择因人而异。**

### 交易系统优化

荒谬的假定：一套优化后的系统（该系统根据过去的数据来选择参数值）能够判断未来的绩效。（P83)

> 某些未来时间段出现最佳绩效的参数组合，在过去时间段也属于表现最佳者。但是，却有更多过去绩效最佳的参数组合，在未来时间段却成为绩效最差的参数组合。同样地，虽然某些过去绩效最差的参数组合，在未来时间段也属于垫底者，但相反的情况也比比皆是。（P84）*关于优化的话题讨论在83~86页有持续的讨论*

如何衡量系统的绩效

> 因人而异

> 如果模型出现几笔特殊的盈亏交易，则必须避开这类模型。必须了解不寻常巨额盈亏对于整体绩效所造成的的影响。避免这类不规则影响的最单纯的方法，便是以不同的历史时间段检验交易模型的绩效。这有三方面的功效。
>
> 	* 可以降低大盈、大亏所造成的影响。
> 	* 可以在统计上比较有效的数据范围内呈现模型的实质绩效。
> 	* 可以让模型在不同的行情状况下展现其绩效。
>
> 包含了不同市场状况的各个历史时间段，即涵盖价格波动剧烈与平静的时间段，有趋势和无趋势的时期，如果模型的绩效始终最好，则其在未来继续保持其绩效的可能性便越大。

- 夏普比率。并不是一项理想的绩效指标。因为它只衡量两种绩效特性的综合表现：保证金回报率和净值曲线的平滑。如果净值曲线接近直线，则标准差会接近零，而不论回报率是多少，夏普比率都会极大。*以每年支付5%利息的储蓄账户而言，其夏普比率几乎为无限大，但你不会认为这是理想的交易系统。*

- 盈/亏比率。$\frac{盈利交易的总金额}{亏损交易的总金额}$。*一套交易系统若能够有3:1或以上的盈/亏比率，则是相当理想的系统。

- 保证金悲观回报率（PROM-[pessmistic return on margin](https://www.tradinggame.com.au/introduction-to-backtesting-metrics-part-2/)）。它假设交易系统在现实生活中将永远不会像在测试中那样频繁的获胜，并且假定该系统在现实中的损失将比其测试中的频繁。*按照平凡根计算的性质，PROM会惩罚交易次数少的样本。例如4的平方根是2，即50%，而100的平方根是10，即10%。***链接中的文章中建议交易模型的PROM至少为测试收益的50%。**

  > 假设50000的年度总利润，盈利交易次数是50，20000的年度总亏损，亏损交易次数也是50。启动资金为10000。
  >
  > 作为比较的基准，计算年化收益率：$\frac{(50000-20000)}{100000}=0.3\times100=30\%$
  >
  > 1. 调整后的盈利次数 $盈利交易次数-\sqrt{盈利交易次数}$：$50-\sqrt{50}=43$
  > 2. 调整后的亏损次数 $亏损交易次数+\sqrt{亏损交易次数}$：$50+\sqrt{50}=57$
  > 3. 调整后的年度总利润 $(\frac{年度总利润}{年度盈利次数})\times调整后的盈利次数$：$(\frac{50000}{50})\times43=42929$
  > 4. 调整后的年度总亏损 $(\frac{年度总亏损}{年度亏损次数})\times调整后的亏损次数$：$(\frac{20000}{50})\times57=22828$
  > 5. $PROM=\frac{(调整后的年度总利润-调整后的年度总亏损)}{启动资金}$：$\frac{(42929-22828)}{100000}=0.20101\approx20.1\%$

- **蒙特卡洛测试**。随机选择起始日期和测试时间段的长度，然后进行许多次测试。如果系统能够通过这项测试，则它应该可以通过任何市场的测试。

测试和优化

​		*优化参数组合在测试时间段内的绩效是其未来潜在绩效的近似值*。这项假定将导致系统真实潜力被严重高估。

	> 根据概率理论，如果接受测试的参数值足够多，即使是一套毫无意义的交易系统，其过去的绩效也可以在某组参数值下产生有利的结果。

 - 盲目测试法：按时间段分割训练集和测试集。在训练集上调整参数，并在测试集上验证。

 - 等权值法：系统设计者限定只使用一两个市场的价格数据，或使用许多市场中的短时间数据。在进行任何模拟之前，就决定需要测试的市场，交易的合约数量已经每个市场中所测试的一组共同参数。取所有参数值的平均绩效座位评估该系统的绩效。

    **建立模拟结果时，避免后见之明是很重要的。**不幸，模拟结果可以说是臭名昭著，就是因为它们经常代表优化的结果-交易系统使用已测试的最佳参数值以决定其绩效。在真实世界中，交易未完成之前，并不知道那一组参数值将有最佳的绩效。
    
    **自由度丧失**：系统每引进一项参数，便代表一种控制，它会限制结果的可信度。*系统中所使用的的控制参数数目越多（例如：移动均线、止损位、市场区间、RSI、百分比、随机显著水平...），则未来的交易越不可能符合测试结果。最佳的交易系统会使用极少的变量，顶多2~5种。进行测试的历史数据应该要有足够的长度，产生至少30笔交易。另一种观点是：参数多少不重要，重要的是测试数据是否足够多，以及参数是否有差异性。
    
    **显著水平（significance level）**：指结果不会因为纯粹巧合而重现的概率。越接近100%系统在未来交易中出现良好绩效的可能性越高。
    
    	> 书中提到的计算方法（P102）
    	>
    	> 1. 系统的实际绩效：每笔交易平均盈利除以其标准差（绩效比率）或者是夏普比率。
    	> 2. 自由度的数目：*每种进场条件都必须计入，每种离场条件也必须计入。*
    	> 3. [*t*-distribution]([https://zh.wikipedia.org/wiki/%E5%AD%A6%E7%94%9Ft-%E5%88%86%E5%B8%83#%E8%AE%A1%E7%AE%97](https://zh.wikipedia.org/wiki/学生t-分布#计算))：*假设某系统绩效比率是0.7，自由度为10，则显著水平为75%。如果显著水平要提高至90%，则绩效比率必须增加值1.372。*参考链接中的表格。
    
    	> 某交易系统，在14中商品市场交易规则各不相同，平均每个市场有8项限制。在广告中，交易组合的历史记录总共只有81笔。因此，该系统总共有112个限制-远多于交易笔数。这意味着该系统根本没有自由度。绩效评估虽然极高，但显著水平为零。（P103）

### 交易系统推销简史

### 流行交易方法的绩效-参考框架

绩效标准与方法论：从谨慎的角度出发，必须考虑持续亏损金额。持续亏损金额和个别亏损一样是交易中无法避免的灾祸。如果无法承受，就永远无法成功。必须考虑最大亏损金额与盈利总额之间的关系。如果仅在一个市场进行交易，持续亏损金额不得超过总盈利的25%。如果这项百分比过低，则通常是曲线匹配的结果。如果本金十分充裕，并在许多不同的市场进行交易，则个别市场所发生的的最大亏损便不太重要，因为各个市场的最大亏损不会同事发生。

四种流行交易系统的测试对比（P134~P146）

### 进场方法

在交易涉及的各种问题中，何时进场的决策无疑最受大众关注，然而其重要性和复杂程度均不及何时出场的策略。

- 顺势买进：由于市场呈波浪式运行，上升之后紧跟着下跌，所以依此方式操作，止损位必须设的更远一些，但是如此一来，一旦判断错误，面临的亏损风险会更大。并且要等到走势明朗后才行动，在某种程度上来说盈利的空间也受到限制。
- 逢低买进：在跌势中买进，可以把止损点设置的近一些，一旦判断错误，风险相对有限。如果市场按照预期回升，就能抓住整段走势。另一方面，这**其实是在预测价格走势，而不是顺势操作**。因此，它会增加判断错误的概率。

> 进场方法有无限多种，需要自己去寻找最合适自己的。**规则1：顺应趋势**。

### 设置止损的方法

**规则2：截断亏损**

假如你未能及时出局，指望市场在你的止损位附近自动调头似乎从来都是一厢情愿。

当止损单过早被扫掉，你往往会耿耿于怀；但对于止损单被扫掉而使你避免大笔损失，你却会很快忘得一干二净。

**短期市场行为大部分是随机的，关键是要始终如一地使用分寸恰当的止损单。长期来说，放置止损点的正确位置也并非特别重要。**

1. 波幅止损

   > 基本原理：既然价格高低点之差代表市场波幅，那么可以用近期价格波幅来计算止损点的距离。假如市场波幅基本保持不变，而你将止损点设在近期波幅之外，则不会在市场趋势本身的波动中止损出局；假如市场触及止损点，则是因为出现了无法控制的波幅增大或趋势改变。

2. 时间止损

   > * “不赚即认赔”。*一笔好的交易应该很快照着你的方向移动，假如没有，最好将交易平仓，等待下一个机会。*
   > * 将止损点放在某短时间的价格极值之外。例如前1周或前4周的最低点。*如果价格在过去这么多天里都没有超越特定边界，那么只要趋势没有改变，未来也不太可能超出该界限。

3. 资金管理止损

   > 固定金额止损。*使用交易所对该市场要求的最低保证金的百分比为基础设置止损点。*

4. ~~盘中止损或收盘止损~~

5. ~~转向止损~~

   > 始终在场内

### 出场方法

**规则3：做足盈利交易**

交易心理 -> 《股票作手回忆录》(Reminiscences of a Stock Operator)

最简单的选择是省略任何特殊的获利了结规则，等到系统发出反向的进场信号为止。

#### 盈亏平衡止损点

交易已经有一定的利润时，交易者撤销最初的止损单，并且在保证没有损失的点位设置新的止损单。在移动止损单之前，你所需要的利润就是盈亏平衡的获利目标。

> 止损单一旦移动之后便不允许发生亏损。

**但是**

> 它固然可以保护你免于某些损失，但更常见的结果是让一笔潜在的好交易过早泡汤。*原本盈利的交易即使变成亏损，也未必一定会触及你最初所设的止损点，它可能会再度变成盈利的交易，甚至大赚一笔的交易。*
>
> 如果使用太低的盈亏平衡盈利目标，而且太快地将止损移到盈亏平衡点，便会错失上述机会；
>
> 假如使用非常高的盈亏平衡盈利目标，那么这道手续就变得无关紧要，因为你会在盈亏平衡止损被执行前，就接到反向进场信号。

#### 跟随止损

SAR

#### 固定及变动盈利目标

*设定的固定盈利目标金额，与正在交易的特定市场的波动性有一定的关系。*

> 设定盈利目标时，就会有落入曲线匹配的风险。
>
> 假如你决定将固定盈利目标纳入系统，不妨设一个较小的目标，以免落入曲线匹配的陷阱。*假如较小的盈利目标的绩效尚且不如其他获利了结方法，那么就干脆放弃盈利目标的方法。*

也可以按照进场日市场的波动性来改变目标（个人理解，这不就是初始止损吗？）

#### 摆动盈利目标

*第九章的摆动指标介绍*

**市场通常在大行情的初期便很快地进入超买或超卖状态。**这样一来，假如使用摆动指标座位盈利出场信号，便很难让盈利持续增大。

**不要落入减少盈利交易平均盈利，以交换盈利交易比率提高的陷阱。**（P213)

**进场规则在决定全面盈利方面是最为明显的。**（P213)

### 交易系统和市场

*如果针对一个市场设计一套系统，很容易落入曲线匹配的危险。没有一种神奇的测试方法可以用来测量系统的曲线匹配程度。确定盈利系统没有曲线匹配问题的好方法就是将它用于不相关的市场做测试。如果它在其他市场也可以盈利，那么该系统可能就不至于有曲线匹配的现象。假如它在其他市场不能盈利，那就要小心了。并不是说它在实战交易中一定无效，但的确是一种警讯。*（P220）

#### 价格走势对系统绩效的影响

趋势跟踪系统在低波动、高趋势的市场要比在高波动、无趋势的市场表现得好。（P222）

评估交易系统的绩效时，要记得测试时段市场价格走势的重要性。如果特定测试时段让任何趋势系统都失灵，那么不要仅仅因为特定趋势系统在这里发生很大亏损就完全不再考虑使用它。测试一段更有利的时期，看看绩效是否有所改善。为了对系统全面的表现有很好的了解，试着挑出一段足以包含有趋势及无趋势，多头及空头市场的时间。（P241）

不建议在多头交易和空头交易中使用不同规则的系统。这对多头或空头市场都会造成偏差。（P241）

#### 不同市场投资组合的交易

*没有人知道有哪些市场会发动大行情，那么参与交易的市场越多，捕捉到大行情的可能性就越高。*

> 可以在不同类别的多个市场进行交易以追求分散化；
>
> 如果资金充足，也可以在同一市场以不同系统进行交易，以实现更进一步的分散化；（#资金管理）

*没有理由阻止你在每一个市场使用不同的系统，只要确定每一套系统不被过度优化，并且确信每一套系统在不同的市场都有用。*（P243）

#### 将交易系统用在股市

机械式交易系统的盈利性取决于市场的波动性以及所选择的系统。一般来说，波动性越高的市场及越长期的系统，成功的机会越大。

### 创建属于自己的交易系统

* 金钱回报
* 自我心理

> 看图表进行分析时，很容易倾向于看盈利的信号，而忽略失败的信号，这是心理学上的规律。电脑测试的优势正在于此。电脑会非情绪化地做测试，它会警告你远离那些仅用于图表测试时看起来完美，但实际交易却亏损的系统。
>
> 如果一个系统或指标仅以一个或两个图表来说明，则要特别小心。这是作者或系统供应商最喜欢运用的策略。很容易发现有很多图表会使任何指标看起来都很好。在对它们用更多数据进行测试之前，不要为这种系统感到兴奋。

**试图抓住顶部或底部，在失败者最常犯的错误中位居前三。最佳的成功之道是在趋势确立后入市交易，不要试图找出主要的顶部和底部。**（P259）

### 追随你的交易系统

1. 没有人知道系统未来是否会继续盈利
2. 会盈利的系统常常看起来像不会盈利的系统
3. 一般交易和追随机械交易系统 同样受制于情绪的煎熬

#### 贪婪和恐惧

1. 好的投机者会将自己同所有导致分心的因素完全隔绝，这些因素可能对其交易产生不当影响。（P262）
2. 个人对于好信号及怀信号的直觉判断往往是错的。*交易者也可能因近期投资一帆风顺而扩大其总体交易规模。这是常见的失败之路。*（P262）

使用机械式交易系统的目的就是要排除情绪化的决策。

#### 持续亏损的阴影

假如你无法忍受无可避免的一连串损失，在你的整个交易生涯中，你将会不断的更换系统。（P263）

#### 低估亏损的冲击

连续亏损对于心理的冲击

#### 交易系统在何时失败

1. 为系统设定止损金额上限，达到后便停止交易。相当于开始每笔交易前的止损单。

   > 在增加交易手数（系统盈利一阵子以后扩大交易规模）时，必将在无可避免的持续亏损来临时承受更大的损失。所以建议先抽出与一开始的投资一样多的利润。与其在同一个交易系统内扩大交易规模，不如分散化投资，使用不同的系统或者在完全不同的市场交易。（P267)

2. 检查系统最近的表现。假如在系统理应转件的一段行情中却长时间赔钱，就应该调整或放弃这套系统。（P268)

#### 交易者只想寻求刺激

*对于行动的需求使得人们过度交易。他们没有耐心等待系统发出新的交易信号。贪婪与此无关。他们并非害怕错过一次盈利交易的机会，而是唯恐会错过拥有头寸的刺激。

#### 了解运气的成分

短期交易的结果将在很大程度上依赖于运气。交易越久，运气在交易中所起的作用就越少。*可以吹嘘交易的成功，但不要自己信以为真。*

### 资金管理

投机性资金管理的四项原则：

* 适当的账户规模
* 分散化
* 风险管理
* 交易多份合约

#### 适当的交易规模

#### 市场和交易系统的分散化

可以同时使用两套或更多的系统交易相同的商品。在两套系统都看多的时候做多，都看空的时候做空。彼此不一致时，什么也别做，或者退出任何现有的头寸，这是在不增加额外资金的情况下一种不错的分散化方法。如果两套系统的方法非常不同，你应该可以大幅降低资产曲线的波动。如果市场配合的话，你应该仍可盈利。（P273~P275)

#### 风险管理

* 每笔交易根据你的交易方法及账户规模，限定任何一笔交易所允许的最大损失。

  > 必须在一连串不可避免的损失中保护自己。

* 尽量避免不必要的风险交易。

* 交易多份合约。*同一时间用多个系统在同一市场做交易。*

### 交易管理

#### 调整交易的合约数量

根据系统前一笔交易的表现来调整交易合约的数量是否足以改变交易的绩效？

盈利之后，由于额外增加了资本，是否应该增加下一次交易的合约数量？

> 赔钱后绝对不要增加交易数量。*赌徒心态，马丁格尔法。在一连串的损失发生时，赌注规模会增加的非常迅速，可能在赌赢之前就破产了。*

反马丁格尔法：以一单位赌注开始，在每次赢钱后将赌注加倍，但在每次损失之后，就回到一单位赌注。*这个策略的好处在于风险较低、所增加的赌注是以赢的钱作为来源，可以使账户资金保持安全。**缺点是最大赌注都会下载无可避免的赔钱上。***

---

* 交易者两个最大的误区是让潜意识中的自我破坏了良好的交易计划，以及错误地依赖技术分析来预测市场。技术分析固然有用，但并不完美。

* 资本越多，交易就越灵活和分散化，而且越愿意认赔，成功的机会就越大。

* 通往盈利之路的最大障碍之一是不切实际的预期和缺乏耐心（过度交易与过度冒险）。还有就是缺乏纪律（交易计划）。

* 如果你进行交易的目标是盈利，而非自我欣赏或寻找乐趣，那么建议你须按照一个或多个机械式交易系统，并用它们在分散化的市场中交易。同时，你必须拥有充足的资金和勇气，以承受不论以何种交易方法都无可避免的净值持续缩水现象。

* 机械式交易法：

  1. 首先你要预先选定一组你将参与的市场；
  2. 有一套数学公式，可以应用先前的价格数据得出买卖的信号，其中包括进场的规则、交易失败的出场规则以及盈利交易的出场规则；
  3. 此外，也有规则决定何时开始与终止每一套系统的交易；

  唯一的任务就是选择交易的系统和市场，并将系统规则应用于价格走势上。
